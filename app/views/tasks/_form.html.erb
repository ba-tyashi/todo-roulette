<%= form_with(model: task, class: "space-y-4", data: { turbo_frame: "_top" }) do |f| %>
  <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
    <div class="col-span-1 md:col-span-2">
      <%= f.label :title, "なにをする？", class: "block text-sm font-medium text-gray-700 mb-1" %>
      <%= f.text_field :title, class: "w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 p-2 border", placeholder: "例：スクワット20回" %>
    </div>

    <div>
      <%= f.label :category_id, "カテゴリ", class: "block text-sm font-medium text-gray-700 mb-1" %>
      <%= f.collection_select :category_id, Category.all, :id, :name, { prompt: "選択してください" }, { class: "w-full border-gray-300 rounded-md shadow-sm p-2 border" } %>
    </div>

    <div>
      <%= f.label :priority, "優先度", class: "block text-sm font-medium text-gray-700 mb-1" %>
      <%= f.select :priority, [["★★★ (高)", "high"], ["★★ (中)", "medium"], ["★ (低)", "low"]], {}, { class: "w-full border-gray-300 rounded-md shadow-sm p-2 border" } %>
    </div>
  </div>

  <div class="flex justify-end items-center pt-2 space-x-4">
    <% unless task.new_record? %>
      <%= link_to "キャンセル", task_path(task), class: "text-sm text-gray-500 hover:text-gray-700" %>
    <% end %>
    <%= f.submit task.new_record? ? "タスクを追加" : "更新する", class: "bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-6 rounded-md transition duration-200 cursor-pointer" %>
  </div>
<% end %>
